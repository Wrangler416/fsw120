{"version":3,"sources":["App.js","index.js"],"names":["App","root","document","getElementById","useState","tweet","setTweet","name","setName","setEdit","sendTweet","h1","createElement","textContent","title","description","appendChild","deleteBtn","setAttribute","onclick","console","log","axios","delete","_id","then","response","style","display","catch","error","editBtn","editInput","type","submitEdit","id","value","put","data","remove","sendEdit","useEffect","get","i","length","createTweets","className","placeholder","onChange","e","target","onClick","post","ReactDOM","render"],"mappings":"+MAoIeA,MAhIf,WAEE,IAAMC,EAAOC,SAASC,eAAe,QAFxB,EAIaC,mBAAS,IAJtB,mBAINC,EAJM,KAICC,EAJD,OAKWF,mBAAS,IALpB,mBAKNG,EALM,KAKAC,EALA,OAMWJ,mBAAS,IANpB,mBAMAK,GANA,WAgDf,SAASC,EAAUL,GAEf,IAAMM,EAAKT,SAASU,cAAc,MAClCD,EAAGE,YAAcR,EAAMS,MAAQ,MAAQT,EAAMU,YAC7Cd,EAAKe,YAAYL,GAEjB,IAAMM,EAAYf,SAASU,cAAc,UACzCK,EAAUJ,YAAc,cACxBI,EAAUC,aAAa,KAAM,QAC7BP,EAAGK,YAAYC,GAEfA,EAAUE,QAAU,WAElBC,QAAQC,IAAI,UACZC,IAAMC,OAAO,2CAA6ClB,EAAMmB,KAC7DC,MAAK,SAAAC,GACJf,EAAGgB,MAAMC,QAAU,UAEpBC,OAAM,SAAAC,GAAK,OAAIV,QAAQC,IAAIS,OAIhC,IAAMC,EAAU7B,SAASU,cAAc,UACvCmB,EAAQlB,YAAc,iBACtBF,EAAGK,YAAYe,GACfA,EAAQZ,QAAU,WAEhB,IAAMa,EAAY9B,SAASU,cAAc,SACzCoB,EAAUC,KAAM,OAChBtB,EAAGK,YAAYgB,GAEf,IAAME,EAAahC,SAASU,cAAc,UAC1CsB,EAAWrB,YAAc,mBACzBF,EAAGK,YAAYkB,GACfA,EAAWf,QAAQ,kBArEzB,SAAkBgB,EAAIC,EAAOzB,GAC3BF,EAAQ2B,GAERd,IAAMe,IAAI,2CAA6CF,EAAI,CAACpB,YAAaqB,IACxEX,MAAK,SAAAC,GACJhB,EAAUgB,EAASY,MACnB3B,EAAG4B,YAGJV,OAAM,SAAAC,GAAK,OAAIV,QAAQC,IAAIS,MA4DCU,CAASnC,EAAMmB,IAAKQ,EAAUI,MAAOzB,KAQlE,OAhEF8B,qBAAU,WAMVnB,IAAMoB,IAAI,2CAETjB,MAAK,SAAAC,GAAQ,OAMd,SAAsBY,GAEpB,IAAI,IAAIK,EAAI,EAAGA,EAAIL,EAAKM,OAAQD,IAC1BjC,EAAU4B,EAAKK,IATLE,CAAanB,EAASY,SACvCT,OAAM,SAAAC,GAAK,OAAIV,QAAQC,IAAIS,QAPzB,IAgEC,gCACI,uBAAMgB,UAAU,OAAhB,UACI,uBACEA,UAAU,QACVb,KAAK,OACL1B,KAAK,QACL6B,MAAO/B,EACP0C,YAAY,uBACZC,SA5Fc,SAACC,GAAD,OAAO3C,EAAS2C,EAAEC,OAAOd,UAgGzC,uBACEU,UAAU,OACVb,KAAK,OACL1B,KAAK,OACL6B,MAAO7B,EACPwC,YAAY,qBACZC,SArGa,SAACC,GAAD,OAAOzC,EAAQyC,EAAEC,OAAOd,aA0G3C,wBAAQU,UAAU,OAAOK,QAAS,WAChC/B,QAAQC,IAAI,UACZC,IAAM8B,KAAK,0CAA2C,CAACrC,YAAaV,EAAOS,MAAOP,IAE7EkB,MAAK,SAAAC,GAAQ,OAAIhB,EAAUgB,EAASY,SACpCT,OAAM,SAAAC,GAAK,OAAIV,QAAQC,IAAIS,OALlC,kCCnHRuB,IAASC,OAAO,cAAC,EAAD,IAASpD,SAASC,eAAe,W","file":"static/js/main.5821f91f.chunk.js","sourcesContent":["import React, {useState, useEffect} from \"react\"\r\nimport axios from \"axios\"\r\nimport \"./styles.css\"\r\n\r\nfunction App() {\r\n\r\n  const root = document.getElementById(\"root\")\r\n  \r\n  const [tweet, setTweet] = useState(\"\")\r\n  const [name, setName] = useState(\"\")\r\n  const [edit, setEdit] = useState(\"\")\r\n\r\n  const handleTweetChange = (e) => setTweet(e.target.value)\r\n  const handleNameChange = (e) => setName(e.target.value)\r\n\r\n// PUT method to edit your tweet\r\n\r\nfunction sendEdit(id, value, h1) {\r\n  setEdit(value)\r\n\r\n  axios.put(\"https://api.vschool.io/karatemple2/todo/\" + id, {description: value})\r\n  .then(response => { \r\n    sendTweet(response.data)\r\n    h1.remove()\r\n\r\n  })\r\n  .catch(error => console.log(error))\r\n}\r\n\r\n//Call function responsible for GET method\r\nuseEffect(function() {\r\n  getData()\r\n}, [])\r\n\r\n//GET method \r\nfunction getData() {\r\naxios.get(\"https://api.vschool.io/karatemple2/todo\")\r\n\r\n.then(response => createTweets(response.data))\r\n.catch(error => console.log(error))\r\n}\r\n\r\n\r\n// Create new tweets \r\nfunction createTweets(data) {\r\n\r\n  for(let i = 0; i < data.length; i++) {\r\n        sendTweet(data[i])\r\n  }\r\n}\r\n\r\n// POST AND DELETE METHODS \r\nfunction sendTweet(tweet) {\r\n\r\n    const h1 = document.createElement(\"h1\")\r\n    h1.textContent = tweet.title + \" , \" + tweet.description\r\n    root.appendChild(h1)\r\n  \r\n    const deleteBtn = document.createElement(\"BUTTON\")\r\n    deleteBtn.textContent = \"delete post\"\r\n    deleteBtn.setAttribute(\"id\", \"done\")\r\n    h1.appendChild(deleteBtn)\r\n\r\n    deleteBtn.onclick = function() {\r\n\r\n      console.log(\"delete\")\r\n      axios.delete(\"https://api.vschool.io/karatemple2/todo/\" + tweet._id)\r\n        .then(response => { \r\n          h1.style.display = \"none\"\r\n        })\r\n        .catch(error => console.log(error))\r\n    }\r\n     \r\n  \r\n    const editBtn = document.createElement(\"BUTTON\")\r\n    editBtn.textContent = \"edit your post\"\r\n    h1.appendChild(editBtn)\r\n    editBtn.onclick = function openEdit() {\r\n\r\n      const editInput = document.createElement(\"input\")\r\n      editInput.type= \"text\"\r\n      h1.appendChild(editInput)\r\n      \r\n      const submitEdit = document.createElement(\"button\")\r\n      submitEdit.textContent = \"submit your edit\"\r\n      h1.appendChild(submitEdit)\r\n      submitEdit.onclick=() => sendEdit(tweet._id, editInput.value, h1) \r\n    \r\n    \r\n    }\r\n\r\n    }\r\n  \r\n\r\n  return (\r\n\r\n    <div>\r\n        <form className=\"form\">\r\n            <input \r\n              className=\"input\"\r\n              type=\"text\"\r\n              name=\"tweet\"\r\n              value={tweet}\r\n              placeholder=\"Type your tweet here\"\r\n              onChange={handleTweetChange}\r\n            >\r\n            </input>\r\n\r\n            <input \r\n              className=\"name\"\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={name}\r\n              placeholder=\"Add your name here\"\r\n              onChange={handleNameChange}\r\n            >\r\n            </input>\r\n\r\n        </form>\r\n        <button className=\"post\" onClick={() => {\r\n          console.log(\"posted\")\r\n          axios.post(\"https://api.vschool.io/karatemple2/todo\", {description: tweet, title: name })\r\n\r\n              .then(response => sendTweet(response.data))\r\n              .catch(error => console.log(error))\r\n              \r\n              } } >Post your tweet!</button>\r\n        \r\n\r\n    </div>\r\n  )\r\n  }\r\nexport default App\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport App from \"./App\"\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"))\r\n\r\n\r\n"],"sourceRoot":""}